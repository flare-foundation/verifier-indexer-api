{
  "name": "Web2Json",
  "fullComment": " @custom:name Web2Json\n @custom:supported PublicWeb2\n @author Flare\n @notice An attestation request that fetches JSON data from the given URL,\n applies a jq filter to transform the returned result, and returns the structured data as ABI encoded data.\n @custom:verification  Data is fetched from an URL `url`. The received data is then processed with jq as\n the `postProcessJq` states. The structure of the final JSON is written in the `abiSignature`.\n The response contains an abi encoding of the final data.\n @custom:lut `0xffffffffffffffff`\n @custom:lut-limit `0xffffffffffffffff`",
  "description": "An attestation request that fetches data from the given URL and then edits the information with a\n jq transformation.",
  "verification": "Data is fetched from an URL `url`. The received data is then processed with jq as\n the `postProcessJq` states. The structure of the final JSON is written in the `abiSignature`.\n The response contains an abi encoding of the final data.\n ",
  "lut": "`0xffffffffffffffff`",
  "proof": {
    "name": "Proof",
    "description": "Toplevel proof",
    "above": "",
    "below": "",
    "fullComment": " @notice Toplevel proof\n @param merkleProof Merkle proof corresponding to the attestation response.\n @param data Attestation response.",
    "params": [
      {
        "name": "merkleProof",
        "type": "bytes32[]",
        "typeSimple": "bytes32[]",
        "comment": "Merkle proof corresponding to the attestation response."
      },
      {
        "name": "data",
        "type": "struct Web2Json.Response",
        "typeSimple": "Response",
        "comment": "Attestation response."
      }
    ]
  },
  "request": {
    "name": "Request",
    "description": "Toplevel request",
    "above": "",
    "below": "",
    "fullComment": " @notice Toplevel request\n @param attestationType ID of the attestation type.\n @param sourceId ID of the data source.\n @param messageIntegrityCode `MessageIntegrityCode` that is derived from the expected response.\n @param requestBody Data defining the request. Type (struct) and interpretation is determined\n by the `attestationType`.",
    "params": [
      {
        "name": "attestationType",
        "type": "bytes32",
        "typeSimple": "bytes32",
        "comment": "ID of the attestation type."
      },
      {
        "name": "sourceId",
        "type": "bytes32",
        "typeSimple": "bytes32",
        "comment": "ID of the data source."
      },
      {
        "name": "messageIntegrityCode",
        "type": "bytes32",
        "typeSimple": "bytes32",
        "comment": "`MessageIntegrityCode` that is derived from the expected response."
      },
      {
        "name": "requestBody",
        "type": "struct Web2Json.RequestBody",
        "typeSimple": "RequestBody",
        "comment": "Data defining the request. Type (struct) and interpretation is determined"
      }
    ]
  },
  "response": {
    "name": "Response",
    "description": "Toplevel response",
    "above": "",
    "below": "",
    "fullComment": " @notice Toplevel response\n @param attestationType Extracted from the request.\n @param sourceId Extracted from the request.\n @param votingRound The ID of the State Connector round in which the request was considered.\n @param lowestUsedTimestamp The lowest timestamp used to generate the response.\n @param requestBody Extracted from the request.\n @param responseBody Data defining the response. The verification rules for the construction\n of the response body and the type are defined per specific `attestationType`.",
    "params": [
      {
        "name": "attestationType",
        "type": "bytes32",
        "typeSimple": "bytes32",
        "comment": "Extracted from the request."
      },
      {
        "name": "sourceId",
        "type": "bytes32",
        "typeSimple": "bytes32",
        "comment": "Extracted from the request."
      },
      {
        "name": "votingRound",
        "type": "uint64",
        "typeSimple": "uint64",
        "comment": "The ID of the State Connector round in which the request was considered."
      },
      {
        "name": "lowestUsedTimestamp",
        "type": "uint64",
        "typeSimple": "uint64",
        "comment": "The lowest timestamp used to generate the response."
      },
      {
        "name": "requestBody",
        "type": "struct Web2Json.RequestBody",
        "typeSimple": "RequestBody",
        "comment": "Extracted from the request."
      },
      {
        "name": "responseBody",
        "type": "struct Web2Json.ResponseBody",
        "typeSimple": "ResponseBody",
        "comment": "Data defining the response. The verification rules for the construction"
      }
    ]
  },
  "requestBody": {
    "name": "RequestBody",
    "description": "Request body for Web2Json attestation type",
    "above": "",
    "below": "",
    "fullComment": " @notice Request body for Web2Json attestation type\n @param url URL of the data source\n @param httpMethod HTTP method to be used to fetch from URL source\n @param headers Headers to be included to fetch from URL source. Use '' if not headers are needed.\n @param queryParams Query parameters to be included to fetch from URL source. Use '' if no query parameters are needed.\n @param body Request body to be included to fetch from URL source. Use '' if no request body is required.\n @param postProcessJq jq filter to post-process the data\n @param abiType ABI type of the data",
    "params": [
      {
        "name": "url",
        "type": "string",
        "typeSimple": "string",
        "comment": "URL of the data source"
      },
      {
        "name": "httpMethod",
        "type": "string",
        "typeSimple": "string",
        "comment": "HTTP method for fetching the data source"
      },
      {
        "name": "headers",
        "type": "string",
        "typeSimple": "string",
        "comment": "Headers to be included to fetch from URL source. Use '' if not headers are needed."
      },
      {
        "name": "queryParams",
        "type": "string",
        "typeSimple": "string",
        "comment": "Query parameters to be included to fetch from URL source. Use '' if no query parameters are needed."
      },
      {
        "name": "body",
        "type": "string",
        "typeSimple": "string",
        "comment": "Request body to be included to fetch from URL source. Use '' if no request body is required."
      },
      {
        "name": "postProcessJq",
        "type": "string",
        "typeSimple": "string",
        "comment": "jq filter to post-process the data"
      },
      {
        "name": "abiType",
        "type": "string",
        "typeSimple": "string",
        "comment": "ABI type of the data"
      }
    ]
  },
  "responseBody": {
    "name": "ResponseBody",
    "description": "Response body for Web2Json attestation type",
    "above": "",
    "below": "",
    "fullComment": " @notice Response body for Web2Json attestation type\n @param abiEncodedData ABI encoded data",
    "params": [
      {
        "name": "abiEncodedData",
        "type": "bytes",
        "typeSimple": "bytes",
        "comment": "ABI encoded data"
      }
    ]
  },
  "requestStructs": [],
  "responseStructs": [],
  "requestAbi": {
    "components": [
      {
        "internalType": "bytes32",
        "name": "attestationType",
        "type": "bytes32"
      },
      {
        "internalType": "bytes32",
        "name": "sourceId",
        "type": "bytes32"
      },
      {
        "internalType": "bytes32",
        "name": "messageIntegrityCode",
        "type": "bytes32"
      },
      {
        "components": [
          {
            "internalType": "string",
            "name": "url",
            "type": "string"
          },
          {
            "internalType": "string",
            "name": "httpMethod",
            "type": "string"
          },
          {
            "internalType": "string",
            "name": "headers",
            "type": "string"
          },
          {
            "internalType": "string",
            "name": "queryParams",
            "type": "string"
          },
          {
            "internalType": "string",
            "name": "body",
            "type": "string"
          },
          {
            "internalType": "string",
            "name": "postProcessJq",
            "type": "string"
          },
          {
            "internalType": "string",
            "name": "abiType",
            "type": "string"
          }
        ],
        "internalType": "struct Web2Json.RequestBody",
        "name": "requestBody",
        "type": "tuple"
      }
    ],
    "internalType": "struct Web2Json.Request",
    "name": "_request",
    "type": "tuple"
  },
  "responseAbi": {
    "components": [
      {
        "internalType": "bytes32",
        "name": "attestationType",
        "type": "bytes32"
      },
      {
        "internalType": "bytes32",
        "name": "sourceId",
        "type": "bytes32"
      },
      {
        "internalType": "uint64",
        "name": "votingRound",
        "type": "uint64"
      },
      {
        "internalType": "uint64",
        "name": "lowestUsedTimestamp",
        "type": "uint64"
      },
      {
        "components": [
          {
            "internalType": "string",
            "name": "url",
            "type": "string"
          },
          {
            "internalType": "string",
            "name": "httpMethod",
            "type": "string"
          },
          {
            "internalType": "string",
            "name": "headers",
            "type": "string"
          },
          {
            "internalType": "string",
            "name": "queryParams",
            "type": "string"
          },
          {
            "internalType": "string",
            "name": "body",
            "type": "string"
          },
          {
            "internalType": "string",
            "name": "postProcessJq",
            "type": "string"
          },
          {
            "internalType": "string",
            "name": "abiType",
            "type": "string"
          }
        ],
        "internalType": "struct Web2Json.RequestBody",
        "name": "requestBody",
        "type": "tuple"
      },
      {
        "components": [
          {
            "internalType": "bytes",
            "name": "abiEncodedData",
            "type": "bytes"
          }
        ],
        "internalType": "struct Web2Json.ResponseBody",
        "name": "responseBody",
        "type": "tuple"
      }
    ],
    "internalType": "struct Web2Json.Response",
    "name": "_response",
    "type": "tuple"
  },
  "proofAbi": {
    "components": [
      {
        "internalType": "bytes32[]",
        "name": "merkleProof",
        "type": "bytes32[]"
      },
      {
        "components": [
          {
            "internalType": "bytes32",
            "name": "attestationType",
            "type": "bytes32"
          },
          {
            "internalType": "bytes32",
            "name": "sourceId",
            "type": "bytes32"
          },
          {
            "internalType": "uint64",
            "name": "votingRound",
            "type": "uint64"
          },
          {
            "internalType": "uint64",
            "name": "lowestUsedTimestamp",
            "type": "uint64"
          },
          {
            "components": [
              {
                "internalType": "string",
                "name": "url",
                "type": "string"
              },
              {
                "internalType": "string",
                "name": "httpMethod",
                "type": "string"
              },
              {
                "internalType": "string",
                "name": "headers",
                "type": "string"
              },
              {
                "internalType": "string",
                "name": "queryParams",
                "type": "string"
              },
              {
                "internalType": "string",
                "name": "body",
                "type": "string"
              },
              {
                "internalType": "string",
                "name": "postProcessJq",
                "type": "string"
              },
              {
                "internalType": "string",
                "name": "abiType",
                "type": "string"
              }
            ],
            "internalType": "struct Web2Json.RequestBody",
            "name": "requestBody",
            "type": "tuple"
          },
          {
            "components": [
              {
                "internalType": "bytes",
                "name": "abiEncodedData",
                "type": "bytes"
              }
            ],
            "internalType": "struct Web2Json.ResponseBody",
            "name": "responseBody",
            "type": "tuple"
          }
        ],
        "internalType": "struct Web2Json.Response",
        "name": "data",
        "type": "tuple"
      }
    ],
    "internalType": "struct Web2Json.Proof",
    "name": "_proof",
    "type": "tuple"
  }
}
